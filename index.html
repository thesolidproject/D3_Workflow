<!DOCTYPE html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="foundation.css" />
<link rel="stylesheet" href="app.css" />
<link rel="stylesheet" href="d3-context-menu.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type = "text/javascript" src = "NG_log-in.js"></script>


<script src="jquery.js"></script>
<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" >
<script src="bootstrap/js/bootstrap.min.js" ></script>

</head>
<body>
<div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    	 			<div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Login to Your Account</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
					<input type="text" name="user" placeholder="Username" id = 'logins'>
					<input type="password" name="pass" placeholder="Password" id = 'pas'>
					<input type="submit" name="login" class="login loginmodal-submit" value="Login" id = 'signin' onclick = "goIn();">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="closebtn" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Forgot Password</button>
		
      </div>
    </div>
  </div>
  
		  </div>

<nav class="navbar navbar-inverse col-xs-12" style="background-color: #0000FF" id = "titlebar">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Workflow Tree</a>
    </div>
   
    <ul class="nav navbar-nav navbar-right">
      <li><a data-toggle="modal" data-target="#login-modal" href="#"  ><span class="glyphicon glyphicon-user"></span> Admin</a><span id="admin-mode" class="btn btn-warning">admin mode off</span></li>
    </ul>
  </div>
</nav>
  

        <div id="RenameNodeModal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
          <h2 id="modalTitle">Rename Node</h2>
          <form id="RenameNodeForm">
            <div class="row">
              <div class="large-12 columns">
                <label>Node name
                  <input type="text" class="inputName" id='RenameNodeName' placeholder="node name" />
                </label>
              </div>
            </div>
            <div class="row">
              <div class="large-8 columns">
                &nbsp;
              </div>
              <div class="large-4 columns">
                <a href="#" class="button info" onclick="close_rename_node_modal()">Cancel</a>
                <a href="#" class="button success" onclick="rename_node()">Rename</a>
              </div>
            </div>
          </form>
          <a class="close-reveal-modal" aria-label="Close">&#215;</a>
        </div>

        <div id="CreateNodeModal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
          <h2 id="modalTitle">Create Node</h2>
          <form id="CreateNodeForm">
            <div class="row">
              <div class="large-12 columns">
                <label style="font-size="18px">Node name
                  <input type="text" class="inputName" id='CreateNodeName' placeholder="node name" />
                </label>
              </div>
            </div>
            <div class="row">
              <div class="large-8 columns">
                &nbsp;
              </div>
              <div class="large-4 columns">
                <a href="#" class="button info" onclick="close_create_node_modal()">Cancel</a>
                <a href="#" class="button success" onclick="create_node()">Create</a>
              </div>
            </div>
          </form>
          <a class="close-reveal-modal" aria-label="Close">&#215;</a>
        </div>
				
		<div id="ShowNodeDetailsModal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
			<h2 id="modalTitle">Node Details</h2>
			<div class="description-container">
				<span class="modal-nodeID"> Node Name: </span><br>
				<span class="modal-nodeCost">Node Cost: </span><br>
				<span class="modal-description">Node Description: </span><br><br>
			</div>
            <div class="nodeMeta">
				 <ul class="first-col">
					<li>Status: </li>
					<li>Rev: </li>
					<li>Iteration: </li>
					<li>Percent Complete: </li>
				</ul>
				<ul class="second-col">
					<li>Actual Hours: </li>
					<li>Planned Hours: </li>
					<li>Start: </li>
					<li>End: </li>
				</ul>
            </div>
          <a class="close-reveal-modal" aria-label="Close">&#215;</a>
        </div>

        <div id="tree-container"></div>

        <script src="d3.v3.min.js"></script>
        <script src="dndTree.js"></script>
        <script src="d3-context-menu.js"></script>
        <script src="underscore-min.js"></script>
        <script src="fastclick.js"></script>
        <script src="foundation.min.js"></script>
        <script>
                // for the first initialization
                $('document').ready(function(){
                    $(document).foundation();
                    $(document).on('opened', '[data-reveal]', function () {
                        var element = $(".inputName:visible").first();
                        element.focus(function(){
                            this.selectionStart = this.selectionEnd = this.value.length;
                        });
                        element.focus();
                    });
                    $('#RenameNodeForm').submit(function(e){
                            rename_node();
                            return false;
                    });
                    $('#CreateNodeForm').submit(function(e){
                            create_node();
                            return false;
                    });
                    var treeJSON = d3.json("tree.json", draw_tree);
                });
        </script>
</body>
</html>